language: java

jdk:
- oraclejdk8

# Enable container-based infrastructure + caching
# see http://docs.travis-ci.com/user/workers/container-based-infrastructure/
sudo: false

# manage the caches here https://travis-ci.org/hawkular/hawkular-datamining/caches
cache:
  directories:
  - $HOME/.m2

install:
- mvn -s .travis.maven.settings.xml -version -B
# unshallow is needed by license-maven-plugin
- git fetch origin --unshallow
- df -h
- du -sh $HOME/.m2/repository
script:
- mvn -fae -s .travis.maven.settings.xml clean install -Pitest
